## 可用性测试

### 随机故障测试

- 使用chaos blade对4台机器上的tess ds服务进行故障模拟

- 测试程序使用TessClient2.0来一帧一帧地拉取数据，相当于模拟用户（或者说是消费端）：

  - 若超时（比如5分钟，10分钟），则判定为故障（网络通信延迟）
  - ~~同时检测该批次下的：in car和out car是否对应的上（TessTest里有写）~~

- 一次测试程序运行流程：

  - 设故障组的个数为n，依次执行这些故障组，共n组
  - 每次故障组开始，确定持续时长t，故障的数量m，以及每个故障的发生时间点
    -  每个故障随机选择：
      - 程序崩溃
      - 网络故障、延迟
      - 内存溢出
    - t时过后，所有故障都发生完了，使用TessClient2.0来检查kafka是否能拉下数据（所有partition都能拉到），等到超时还没拉完，则认为有问题
      - 若有问题，则保存当前的日志，退出测试
      - 若无问题，则继续

  - 所有故障组全都执行完毕，则结束，删除所有日志

